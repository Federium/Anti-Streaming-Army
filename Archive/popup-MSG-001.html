<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MSG-001 Details</title>
    <link rel="stylesheet" href="Style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js"></script>
</head>
<body>
    <div class="popup-content">
        <!-- Testo Criptato -->
        <div class="code-text">
            <p>002020DisneytoDCCPrimicontagiaWuhan:visualizzazioniinCina50.Proposta:estendereilvirusnellemetropolieuropee.Ognimilionedicontagi20abbonamenti.</p>
        </div>
        
        <!-- Testo Allineato a Destra -->
        <a href="#" class="alphabet-index" data-id="ALPHABET" style="text-decoration: none;">
            +---------------------+ <br>
            | open alphabet index | <br>
            +---------------------+          
        </a>
        
        <!-- Blocco di Testo Aggiuntivo -->
        <div class="translated-text">
            <p>Decoded output <br>
              -------------- <br>
              <br>
              [10/01/2020] - Disney+ to DCC <br>
              Primi contagi a Wuhan: visualizzazioni in Cina +50%. Proposta: estendere il virus nelle metropoli europee. Ogni milione di contagi = +20% abbonamenti.
            </p>
        </div>
    </div>

    <div id="popup-container"></div>

    <script>

      $(document).ready(function() {
          $('a[data-id]').click(function() {
              const id = $(this).data('id');
              console.log(`Clicked row with ID: ${id}`); // Debug

              // Controlla se il popup è già aperto
              if ($(`#popup-${id}`).length) {
                  return; // Evita di aprire un popup duplicato
              }

              const popupContent = `
                  <div class="popup" id="popup-${id}">
                      <div class="popup-header">
                          <span>${id} | Decoded Output</span>
                          <button class="close-button">[X]</button>
                      </div>
                      <div class="popup-content">
                          <!-- Contenuto specifico del popup -->
                      </div>
                  </div>
              `;
              $('#popup-container').append(popupContent);
              const $popup = $(`#popup-${id}`);
              $popup.draggable().resizable();
              

              // Carica il contenuto della pagina HTML nel popup
              $popup.find('.popup-content').load(`popup-${id}.html`);

              $(`#popup-${id} .close-button`).click(function() {
                  $(`#popup-${id}`).remove();
              });
          });
      });
  </script>
</body>
</html>